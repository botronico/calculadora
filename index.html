<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Finiquito e Indemnización</title>
  <!-- Add Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 20px; max-width: 800px; margin: 20px auto; }
    .result { background: #f0f0f0; border-radius: 8px; padding: 20px; }
    .result p { margin: 6px 0; }
  </style>
</head>

<body>
  <h1 class="text-center mb-4">Calculadora de finiquito e indemnización</h1>

  <div class="mb-3">
    <label for="fechaInicio" class="form-label">Fecha de inicio del contrato:</label>
    <input type="date" id="fechaInicio" class="form-control">
  </div>
  <div class="mb-3">
    <label for="fechaFin" class="form-label">Fecha de finalización del contrato:</label>
    <input type="date" id="fechaFin" class="form-control">
  </div>
  <div class="mb-3">
    <label for="salarioMensual" class="form-label">Salario bruto mensual:</label>
    <input type="number" id="salarioMensual" class="form-control" value="2900.00">
  </div>
  <div class="mb-3">
    <label for="diasTrabajadosMes" class="form-label">Días trabajados en el último mes:</label>
    <input type="number" id="diasTrabajadosMes" class="form-control" value="30">
  </div>
  <div class="mb-3">
    <label for="vacacionesNoDisfrutadas" class="form-label">Días de vacaciones no disfrutadas:</label>
    <input type="number" id="vacacionesNoDisfrutadas" class="form-control" value="30">
  </div>
  <div class="mb-3">
    <label for="diasIndemnizacion" class="form-label">Días de indemnización por año trabajado:</label>
    <input type="number" id="diasIndemnizacion" class="form-control" value="24">
  </div>

  <div class="result">
    <p><strong>Años trabajados (automático):</strong> <span id="anios"></span></p>
    <p><strong>Valor diario de salario:</strong> <span id="salarioDiario"></span></p>
    <p><strong>Pago por vacaciones no disfrutadas:</strong> <span id="pagoVacaciones"></span></p>
    <p><strong>Total Finiquito:</strong> <span id="pagoFiniquito"></span></p>
    <p><strong>Indemnización:</strong> <span id="indemnizacion"></span></p>
    <p><strong>TOTAL A RECIBIR:</strong> <span id="total"></span></p>
  </div>

  <!-- Add Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const inputs = document.querySelectorAll('input');
    inputs.forEach(input => input.addEventListener('input', calcular));

    function calcular() {
      const inicio = new Date(document.getElementById('fechaInicio').value);
      const fin = new Date(document.getElementById('fechaFin').value);
      const salarioMensual = parseFloat(document.getElementById('salarioMensual').value) || 0;
      const diasTrabajadosMes = parseFloat(document.getElementById('diasTrabajadosMes').value) || 0;
      const vacacionesNoDisfrutadas = parseFloat(document.getElementById('vacacionesNoDisfrutadas').value) || 0;
      const diasIndemnizacion = parseFloat(document.getElementById('diasIndemnizacion').value) || 0;

      if (isNaN(inicio) || isNaN(fin) || inicio >= fin) return;

      const msPorAnio = 365.25 * 24 * 60 * 60 * 1000;
      const añosTrabajados = (fin - inicio) / msPorAnio;
      const salarioDiario = salarioMensual * 12 / 365;
      const pagoVacaciones = vacacionesNoDisfrutadas * salarioDiario;
      const pagoDiasTrabajados = diasTrabajadosMes * salarioDiario;
      const indemnizacion = añosTrabajados * diasIndemnizacion * salarioDiario;
      const pagoFiniquito = pagoVacaciones + pagoDiasTrabajados;
      const total = pagoFiniquito + indemnizacion;

      document.getElementById('anios').textContent = añosTrabajados.toFixed(2);
      document.getElementById('salarioDiario').textContent = salarioDiario.toFixed(2) + ' €';
      document.getElementById('pagoVacaciones').textContent = pagoVacaciones.toFixed(2) + ' €';
      document.getElementById('pagoFiniquito').textContent = pagoFiniquito.toFixed(2) + ' €';
      document.getElementById('indemnizacion').textContent = indemnizacion.toFixed(2) + ' €';
      document.getElementById('total').textContent = total.toFixed(2) + ' €';
    }
  </script>
</body>
</html>
